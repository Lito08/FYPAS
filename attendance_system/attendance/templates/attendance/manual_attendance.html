{% extends "base.html" %}

{% block content %}
<h2>Manual Attendance - {{ section.course.name }} ({{ section.section_type }} {{ section.section_number }})</h2>

<form method="post">
    {% csrf_token %}

    <label for="week_number">Select Class Week:</label>
    <select name="week_number" required>
        {% for week in "1234567891011121314"|make_list %}
        <option value="{{ week }}">Week {{ week }}</option>
        {% endfor %}
    </select>

    <label for="date">Class Date:</label>
    <input type="date" name="date" required>

    <table class="table">
        <thead>
            <tr>
                <th>Student</th>
                <th>Attendance Status</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td>{{ student.student.first_name }} {{ student.student.last_name }}</td>
                <td>
                    <select name="status_{{ student.student.id }}">
                        <option value="Present">✅ Present</option>
                        <option value="Late">🟡 Late</option>
                        <option value="Absent">❌ Absent</option>
                    </select>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <button type="submit" class="btn btn-primary">Save Attendance</button>
    <a href="{% url 'lecturer_attendance_dashboard' %}" class="btn btn-secondary">Back</a>
</form>

{% endblock %}
